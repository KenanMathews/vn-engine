# 1. Use official Node.js image
FROM node:20-alpine

# 2. Set working directory
WORKDIR /app

# 3. Copy package files first for better caching
COPY package*.json ./

# 4. Install dependencies
RUN npm install


# 5. Copy rest of the project
COPY . .

# 6. Build the Vite app if needed (optional if you only want to run dev)
RUN npm run build

# 7. Expose port used in Vite demo mode (customize as needed)
EXPOSE 5174

# 8. Start the dev server in demo mode
CMD ["npm", "run", "dev", "--", "--mode", "demo", "--host", "0.0.0.0", "--port", "5174"]