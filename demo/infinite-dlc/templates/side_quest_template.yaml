# File: templates/side_quest_template.yaml
# Description: A simple side quest with character interaction and reward

dlc_merchant_encounter:
  - speaker: "Mysterious Merchant"
    text: "Ah, a traveler! I have a proposition for you..."
    actions:
      - type: setFlag
        flag: met_merchant

dlc_merchant_quest:
  - text: "The merchant's eyes gleam with opportunity."
  - speaker: "Mysterious Merchant"
    text: "I've lost a precious artifact in the nearby forest. Retrieve it, and I'll reward you handsomely."
    choices:
      - text: "I'll help you find it."
        actions:
          - type: setFlag
            flag: accepted_merchant_quest
        goto: dlc_forest_search
      - text: "Sorry, I'm too busy."
        goto: dlc_merchant_declined

dlc_forest_search:
  - text: "You venture into the dark forest, searching among the undergrowth."
  - action:
      type: addTime
      minutes: 30
  - text: "After careful searching, you spot something glinting beneath a fallen log."
  - speaker: "{{getVar 'player.name' 'Hero'}}"
    text: "Found it! This must be the merchant's artifact."
    actions:
      - type: setVar
        key: inventory.merchant_artifact
        value: true
      - type: addVar
        key: player.experience
        value: 25
  - goto: dlc_return_to_merchant

dlc_return_to_merchant:
  - speaker: "Mysterious Merchant"
    text: "Excellent work! As promised, here's your reward."
    actions:
      - type: addVar
        key: player.gold
        value: 100
      - type: setFlag
        flag: merchant_quest_completed
  - text: "You gained 100 gold and 25 experience!"

dlc_merchant_declined:
  - speaker: "Mysterious Merchant"
    text: "Perhaps another time, then. Safe travels."
  - text: "You continue on your journey."